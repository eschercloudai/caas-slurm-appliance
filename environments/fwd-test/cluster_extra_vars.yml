---

appliances_environment_root: "{{ lookup('env', 'APPLIANCES_ENVIRONMENT_ROOT') }}"

# Extra vars needed to build cluster
cluster_terraform_template_dir: "{{ appliances_environment_root }}/cluster_terraform_template"


# Cluster instance vars
ansible_user: cloud-user
cluster_gateway_user: cloud-user
cluster_name: "fwd-test"
cluster_id: "{{ cluster_name }}"

openhpc_slurm_partitions:
  - name: "vm"
    count: 1
    flavor_name: "g.2.standard"


cluster_user_ssh_public_keys:
  - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBL0TOpOWI9bn2JMuwxmjuM/z3aDYu7fDQk68p+Wafe3 a.cleave@eshchercloud.ai"
  - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAILsBdBzq1y4Vtr1FTJvF557t/Tvn+ZOSx5HouJ89B9rm david@macbookpro"
  - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKGHDwDB7Z7JQ/Sr9VZlnoAjzJOdNZQIE8vxRW//rK1h mouza"
  -  ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOvn6dvyvvNyzBH9RdNujv3jR72Gc/feKi9OuMhhjE1u mkarpiarz@Escher-MBP

cluster_image: 4240e0f8-7cda-44b6-877b-8bef6575f143 # manually tweaked fat image with intel driver and sw raid grub cfg and the ofed stack for RHEL8.7 forced into the image to allow the ohpc packeages to work properly.
cluster_upgrade_system_packages: true # this is needed as it forces the terraform to use the target state rather then the previous state and then try and update them later. This might not be so great long term but wiith quick iteration befor the customer is on when it is safe to nuke and reboot the lot. . .this is really useful
cluster_internal_network: "antony-routable" # use this precreated vlan provider net so we can have ironic nodes
cluster_internal_subnet: "antony_routable_subnet" # the subnet for that netowrk to avoid extra TF hoops to jump through

login_sriov_port_id: 8c46f97b-62fa-46a9-a106-62a032b2e658
nfs_sriov_port_id: 931c4042-c5c4-4f87-a264-c36ea93a703b

cluster_external_network: "Internet"

cluster_nameservers:
  - 1.1.1.1
  - 8.8.8.8
login_flavor_name: "g.2.standard"
control_flavor_name: "g.4.standard"
control_root_vol_size: 50
login_root_vol_size: 50

home_volume_size: 50
metrics_db_maximum_size: 10 # I want the head node stats volume to be 250 and openstack.yml:state_volume_size: "{{ metrics_db_maximum_size + 10 }}"

# these should no longer be needed
#openhpc_packages_extra:
#  - "gnu9-compilers-ohpc" # hpctests siesta
#  - "openblas-gnu12-ohpc" # hpctests hpl but ompi ofed clash
#  - "singularity-ohpc"
#  - "scalapack-gnu9-openmpi4-ohpc" # hpctests siesta
#  - "fftw-gnu9-openmpi4-ohpc" # hpctests siesta
#  - "netcdf-gnu9-openmpi4-ohpc" # hpctests siesta
#  - "netcdf-fortran-gnu9-openmpi4-ohpc" # hpctests siesta
#  - "readline-devel" # hpctests siesta
#  - "cmake" # hpctests siesta
#  - "git" # hpctests siesta
#  - "python3-scipy-gnu9-openmpi4-ohpc" # hpctests scipy
#  - "python3-numpy-gnu9-ohpc" # hpctests scipy

generic_installers_staging_node: login
generic_installers_group: compute
generic_installers_default: {}

block_device_prefix: "sd"


